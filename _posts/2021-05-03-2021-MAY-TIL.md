---
title: Swift | 5월 1주차 TIL
tags: [iOS, swift]
date: 2021-05-03 18:04:00 +09:00
categories: []

---

Closure가 무엇이고 어떻게 사용하는지 알아보도록 하겠습니다.

<!--more-->
---

# 5월 3일

## 1. 모르는점
- @escaping 탈출클로저에 대해 조사했는데 잘 이해했는지 확신이 없다. 함수가 끝나더라도 살아있어서 함수의 종료 후에도 함수안의 정보들을 사용해서 실행되는 클로저라고 한다. 네트워크 비동기 함수들과 같이 쓰이는 경우가 많은 것 같다.


## 2. 배운점

- searchBar도 컬렉션뷰처럼 델리게이트 패턴을 사용하여 뷰 컨트롤러에게 위임할 수 있다.
```swift
//서치바 delegate 코드
extension SearchViewController: UISearchBarDelegate {
    func searchBarSearchButtonClicked(_ searchBar: UISearchBar) {
        //Code when search button clicked
        print("--> keyword: \(searchBar.text)")
    }
}
```

- Access control 정리
  - Open -> Public -> Internal -> File private -> private
오른쪽으로 갈수록 접근 허용도가 낮음
Open 과 Public은 외부 모듈에서 접근 가능
Open 과 Public의 차이점은
Open은 모듈의 외부에서 subclassing과 Overriding또한 가능하게 해줌(Public은 모듈 외부에서는 불가능, 내부에서는 가능)
  - Internal은 모듈 내부에서 접근 가능
  - File Private은 같은 파일내에서만 접근 가능
  - Private은 같은 클래스나 extension 내에서만 접근가능


- Data 타입의 내용을 보려면 String으로 변환해서 봐야한다.
그냥 프린트하면 몇 바이트인지 용량만 나옴
```swift
let string = String(data: Data타입의변수, encoding: .utf8)
```
이런식으로 인코딩해줘야 내용물을 확인할 수 있음

- SPM을 이용해서 kingFisher를 설치해서 사용해보았다.
swift package manager 다루기
file-> Swift Packages -> Add Package Dependency -> repository 주소 입력하기

kingFisher사용법
```swift 
let url = URL(string: movie.thumbnailPath)!
        cell.movieThumbnail.kf.setImage(with: url)
```

- modal 창을 full screen으로 보여주고 싶을 때 코드
```swift
vc.modalPresentationStyle = .fullScreen
present(vc, animated: false, completion: nil)
```

## 3. 개선할점

- 마음이 급해서 이것저것 여러가지를 공부하려고 하는데 지금 공부하기로 한것을 잘 마무리하려고 더 신경써보자




# 5월 4일

1. 모르는 점
- iOS TDD로 XC Test라는 것을 들어봤다. 공부해봐야겠다.

- firebase로 realtime database를 만들었는데 region을 미국 이외에 국가로 하면 앱구동시 에러가 뜬다. url을 변경하라는데 검색해도 도저히 답을 모르겠어서 project을 지우고 다시 만들어서 region을 미국으로 했는데 문제가 뭔지는 잘 모르겠다.

2. 배운점

- 화면을 가로모드로 설정하기
```swift
override var supportedInterfaceOrientations: UIInterfaceOrientationMask {
        return .landscape
    }
```

- 배경을 투명하게 만드려면
배경색을 Clear Color로 설정

- 버튼을 선택시 모양 변경
Attribute inspector-> State Config를 Selected로 변경 -> Image에서 원하는 이미지 설정
State Config에서 상태에 따른 버튼의 모양을 결정할 수 있다.

- 동영상 플레이어를 사용하기 위해서는 AVPlayer Layer를 이용해서 View를 구성해야한다.
참고 : https://developer.apple.com/documentation/avfoundation/avplayerlayer


- Firebase에 여러가지 자료형(Int, String, Array, Dictionary)을 저장할 수 있지만 Struct를 저장할 수 없기때문데 Struct는 Dictionary로 변화해서 저장해야 한다.
3. 개선할 점





# 5월 5일



1. 모르는 점
- Functional Programming공부하기


2. 배운 점
- 컨테이너 뷰에 대해 배움, 뷰컨트롤러를 품을 수 있는 뷰
- 뷰 컨트롤러의 생명주기(viewDidload, viewWillAppear, viewWillDisappear)
- 앱의 생명주기(not running, inactice, active, background, suspended)


3. 개선할 점
- Codable을 몇번 봤지만 아직 익숙하지가 않다. Codingkeys와 함께 예제를 만들어서 실습해야겠다.